<div class="question-list" cdkDropList (cdkDropListDropped)="onDrop($event)">
    <div
        *ngFor="let question of questionService.questions; index as i"
        cdkDrag
        class="question-item"
        [ngClass]="{
            'type-qcm': question.type === 'QCM',
            'type-qrl': question.type === 'QRL',
            'type-qre': question.type === 'QRE'
        }"
    >
        <div class="question-index">{{ i + 1 }}</div>
        <div class="question-body">
            <div class="question-topline">
                <div class="question-type-chip">
                    <mat-icon *ngIf="question.type === 'QCM'">format_list_bulleted</mat-icon>
                    <mat-icon *ngIf="question.type === 'QRL'">edit_note</mat-icon>
                    <mat-icon *ngIf="question.type === 'QRE'">compare_arrows</mat-icon>
                    <span>{{ question.type }}</span>
                </div>
                <div class="question-actions">
                    <button type="button" class="icon-button" (click)="onModifyQuestion(i)" aria-label="Edit question">
                        <mat-icon fontIcon="edit"></mat-icon>
                    </button>
                    <button type="button" class="icon-button danger" (click)="onDeleteQuestion(i)" aria-label="Delete question">
                        <mat-icon fontIcon="delete"></mat-icon>
                    </button>
                </div>
            </div>
            <p class="question-text">{{ question.text }}</p>
        </div>
    </div>

    <div *ngIf="questionService.questions.length === 0" class="empty-state">
        <mat-icon>quiz</mat-icon>
        <p>Start by adding your first question.</p>
    </div>
</div>
